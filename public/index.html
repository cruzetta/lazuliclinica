<!-- 
  Arquivo: public/index.html 
  Descrição: Página principal do site da Clínica Lazúli.
  Atualizações Críticas (Fundos de Seção Dinâmicos):
  - [FEAT] Adicionada capacidade de carregar imagens de fundo para cada seção via Firebase.
  - [FEAT] Criado um sistema de overlay (camada de sobreposição) para garantir a legibilidade do texto sobre as imagens.
  - [FEAT] O texto da seção muda para branco quando um fundo escuro é aplicado.
  - [REFACTOR] As classes de cor de fundo (bg-white, etc.) foram removidas das seções para permitir que a imagem de fundo apareça.
  - [REFACTOR] Adicionada a classe 'section-bg-wrapper' a cada seção para aplicar os novos estilos de fundo.
  - [BUGFIX-FINAL] Lógica JavaScript original 100% restaurada para garantir funcionamento dos sliders e todas as outras interações. A contagem de linhas foi preservada.
-->
<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clínica Lazúli – Dr. Italo Rottoli | Harmonização Facial e Lentes de Contato Dental em Canoas</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Clínica Lazúli em Canoas, com Dr. Italo Rottoli. Especialista e Mestre em Harmonização Orofacial e Lentes de Contato Dental. Realce sua beleza com naturalidade e segurança.">
    <meta name="keywords" content="harmonização facial canoas, lentes de contato dental canoas, botox, preenchimento, bioestimuladores, dr italo rottoli, clínica de estética canoas, gerenciamento do envelhecimento, peeling, microagulhamento">
    <meta name="author" content="Dr. Italo Rottoli">

    <!-- Favicon -->
    <link rel="icon" href="https://img.icons8.com/ios/50/D4AF37/l.png" type="image/png">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Lato', 'sans-serif'],
              display: ['Playfair Display', 'serif'],
            },
            colors: {
              'lazuli-light-blue': '#F0F8FF',
              'lazuli-nude': '#F5EBE0',
              'lazuli-gold': {
                DEFAULT: '#B8860B',
                dark: '#A0740A',
              },
              'lazuli-dark': '#3A3A3A',
            }
          }
        }
      }
    </script>
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Swiper.js CSS -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

    <style>
      /* Impede a rolagem horizontal em toda a página */
      body {
        overflow-x: hidden;
      }
      /* Animações de entrada */
      .reveal {
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.8s ease-out, transform 0.8s ease-out;
      }
      .reveal.visible {
        opacity: 1;
        transform: translateY(0);
      }
      
      /* Estilos do Slider Customizado (para Depoimentos) */
      .slider-track {
        transition: transform 0.5s ease-out;
      }
      .slider-container.is-dragging .slider-track {
        transition: none;
      }

      /* Estilos do FAQ */
      .faq-question { cursor: pointer; }
      .faq-answer {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.5s ease-in-out;
      }

      /* Estilos do Header */
      #main-header .nav-link { color: white; position: relative; }
      #main-header .logo-main-text { color: white; }
      #main-header #mobile-menu-button { color: white; }
      .nav-link::after {
        content: '';
        position: absolute;
        width: 0;
        height: 1px;
        display: block;
        margin-top: 5px;
        right: 50%;
        background: white;
        transition: width 0.3s ease, right 0.3s ease;
      }
      .nav-link:hover::after {
        width: 100%;
        right: 0;
      }
      #main-header.header-scrolled {
        background-color: rgba(255, 255, 255, 0.98);
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        backdrop-filter: blur(8px);
      }
      #main-header.header-scrolled .nav-link { color: #3A3A3A; }
      #main-header.header-scrolled .nav-link:hover { color: #B8860B; }
      #main-header.header-scrolled .logo-main-text { color: #3A3A3A; }
      #main-header.header-scrolled #mobile-menu-button { color: #3A3A3A; }
      #main-header.header-scrolled .nav-link::after { background: #B8860B; }

      /* Estilos do Menu Mobile Aprimorado */
      #mobile-menu-overlay {
        transition: opacity 0.3s ease-in-out;
      }
      #mobile-menu {
        transform: translateX(100%);
        transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }
      #mobile-menu.menu-open {
        transform: translateX(0);
      }
      body.overflow-hidden {
        overflow: hidden;
      }

      /* --- ESTILOS PARA O CARROSSEL DE GALERIA (SWIPER.JS) --- */
      .gallery-swiper {
        width: 100%;
        height: 60vh; 
        max-height: 500px;
        position: relative;
        overflow: hidden;
        margin: 0;
        border-radius: 0.5rem;
        box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
      }
      .gallery-swiper .swiper-slide {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        background-color: #ffffff; 
      }
      .gallery-swiper .swiper-slide img {
        width: 100%;
        height: 100%;
        display: block;
        object-fit: contain;
      }
      .gallery-swiper .swiper-button-next,
      .gallery-swiper .swiper-button-prev {
        z-index: 10; 
        padding: 20px;
        margin: -10px; 
        background-color: rgba(255, 255, 255, 0.9);
        color: #3A3A3A;
        width: 48px;
        height: 48px;
        border-radius: 9999px;
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        transition: background-color 0.3s;
      }
      .gallery-swiper .swiper-button-next:hover,
      .gallery-swiper .swiper-button-prev:hover {
          background-color: rgba(255, 255, 255, 1);
      }
      .gallery-swiper .swiper-button-next:after, 
      .gallery-swiper .swiper-button-prev:after {
          font-size: 18px; 
          font-weight: bold;
      }
      .gallery-swiper .swiper-pagination {
        position: absolute;
        bottom: 15px !important;
        left: 50%;
        transform: translateX(-50%);
        z-index: 10;
      }
      .gallery-swiper .swiper-pagination-bullet {
        background-color: rgba(255, 255, 255, 0.7);
        border: 1px solid rgba(0, 0, 0, 0.2);
        width: 10px;
        height: 10px;
        opacity: 0.8;
        transition: background-color 0.3s, opacity 0.3s;
      }
      .gallery-swiper .swiper-pagination-bullet-active {
        background-color: #B8860B; /* lazuli-gold */
        opacity: 1;
      }

      /* [NOVO] Estilos para Fundos de Seção Dinâmicos */
      .section-bg-wrapper {
          position: relative;
          z-index: 1;
          background-color: var(--bg-color, transparent);
      }
      .section-bg-wrapper::before { /* Camada da Imagem */
          content: '';
          position: absolute;
          top: 0; left: 0; right: 0; bottom: 0;
          /* A propriedade 'cover' garante que a imagem cubra todo o espaço,
             mesmo que precise cortar as bordas para manter a proporção. */
          background-size: cover;
          /* A propriedade 'center center' garante que a imagem fique sempre centralizada. */
          background-position: center center;
          background-repeat: no-repeat;
          background-image: var(--bg-image);
          z-index: -2;
          opacity: 0;
          transition: opacity 0.6s ease-in-out;
      }
      .section-bg-wrapper::after { /* Camada de Overlay */
          content: '';
          position: absolute;
          top: 0; left: 0; right: 0; bottom: 0;
          z-index: -1;
          opacity: 0;
          transition: opacity 0.6s ease-in-out;
          background-color: rgba(25, 25, 25, 0.65); /* Overlay escuro padrão */
      }
      .section-bg-wrapper.has-bg::before,
      .section-bg-wrapper.has-bg::after {
          opacity: 1;
      }
      .section-bg-wrapper.has-bg { color: #f0f0f0; }
      .section-bg-wrapper.has-bg h1,
      .section-bg-wrapper.has-bg h2,
      .section-bg-wrapper.has-bg h3,
      .section-bg-wrapper.has-bg h4,
      .section-bg-wrapper.has-bg .faq-question {
          color: white;
      }
      .section-bg-wrapper.has-bg .text-lazuli-gold { color: #B8860B; }
      .section-bg-wrapper.has-bg .text-lazuli-dark,
      .section-bg-wrapper.has-bg .text-lazuli-dark\/80 {
          color: #f0f0f0;
      }
      .section-bg-wrapper.has-bg .border-gray-200 { border-color: rgba(255, 255, 255, 0.2); }
      .section-bg-wrapper.has-bg .bg-white { background-color: rgba(255,255,255,0.1) !important; }
      .section-bg-wrapper.has-bg .bg-lazuli-light-blue\/30 { background-color: rgba(255,255,255,0.1) !important; }
      .section-bg-wrapper.has-bg .slider-button { background-color: rgba(255,255,255,0.8); color: #3A3A3A; }
      .section-bg-wrapper.has-bg .text-gray-500 { color: #ccc; }

    </style>
</head>
<body class="text-lazuli-dark bg-white font-sans">

    <header id="main-header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#home" class="text-2xl font-display font-bold">
                <span class="logo-main-text">Clínica</span> <span class="text-lazuli-gold">Lazúli</span>
            </a>
            <nav class="hidden md:flex space-x-8 items-center">
                <a href="#sobre" class="nav-link transition-colors">Sobre</a>
                <a href="#tratamentos" class="nav-link transition-colors">Tratamentos</a>
                <a href="#galeria" class="nav-link transition-colors">Resultados</a>
                <a href="#depoimentos" class="nav-link transition-colors">Depoimentos</a>
                <a href="#faq" class="nav-link transition-colors">Dúvidas</a>
                <a href="https://wa.me/555499041660?text=Ol%C3%A1!%20Gostaria%20de%20agendar%20um%20hor%C3%A1rio." target="_blank" class="bg-lazuli-gold text-white px-5 py-2 rounded-full hover:bg-lazuli-gold-dark transition-all duration-300 active:scale-95">Agendar Avaliação</a>
            </nav>
            <button id="mobile-menu-button" class="md:hidden text-2xl transition-colors z-50" aria-label="Abrir menu de navegação">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Menu Mobile Aprimorado -->
    <div id="mobile-menu-overlay" class="fixed inset-0 bg-black/50 z-30 opacity-0 pointer-events-none md:hidden"></div>
    <div id="mobile-menu" class="fixed top-0 right-0 h-full w-4/5 max-w-sm bg-white z-40 p-8 pt-20 shadow-2xl md:hidden">
        <nav class="flex flex-col space-y-6 text-lg">
            <a href="#sobre" class="mobile-nav-link text-lazuli-dark hover:text-lazuli-gold transition-colors">Sobre</a>
            <a href="#tratamentos" class="mobile-nav-link text-lazuli-dark hover:text-lazuli-gold transition-colors">Tratamentos</a>
            <a href="#galeria" class="mobile-nav-link text-lazuli-dark hover:text-lazuli-gold transition-colors">Resultados</a>
            <a href="#depoimentos" class="mobile-nav-link text-lazuli-dark hover:text-lazuli-gold transition-colors">Depoimentos</a>
            <a href="#faq" class="mobile-nav-link text-lazuli-dark hover:text-lazuli-gold transition-colors">Dúvidas</a>
            <a href="https://wa.me/555499041660?text=Ol%C3%A1!%20Gostaria%20de%20agendar%20um%20hor%C3%A1rio." target="_blank" class="block mt-6 bg-lazuli-gold text-white text-center px-5 py-3 rounded-full hover:bg-lazuli-gold-dark transition-all duration-300 active:scale-95">Agendar Avaliação</a>
        </nav>
    </div>


    <main>
        <!-- Seção Hero -->
        <section id="home" class="relative min-h-screen flex items-center bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1576091160550-2173dba999ef?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3');">
            <div class="absolute inset-0 bg-black/60"></div>
            <div class="container mx-auto px-6 text-center text-white relative z-10">
                <h1 class="text-4xl md:text-6xl lg:text-7xl font-display font-medium leading-tight mb-4 reveal">Beleza em equilíbrio, sorriso em harmonia.</h1>
                <p class="text-lg md:text-xl max-w-3xl mx-auto mb-8 reveal" style="transition-delay: 200ms;">Na Lazúli, unimos ciência e estética para realçar sua melhor versão.</p>
                <a href="https://wa.me/555499041660?text=Ol%C3%A1!%20Gostaria%20de%20agendar%20um%20hor%C3%A1rio." target="_blank" class="bg-lazuli-gold text-white px-8 py-4 rounded-full hover:bg-lazuli-gold-dark transition-all duration-300 transform hover:scale-105 inline-block reveal active:scale-95" style="transition-delay: 400ms;">
                    Agende sua avaliação personalizada
                </a>
            </div>
        </section>

        <!-- Seção Sobre -->
        <section id="sobre" class="section-bg-wrapper py-16 md:py-20 lg:py-32" style="--bg-color: #ffffff;">
            <div class="container mx-auto px-6">
                <div class="flex flex-col lg:flex-row items-center gap-12 lg:gap-20">
                    <div class="lg:w-1/3 reveal">
                        <img id="about-dr-photo" src="https://placehold.co/600x800/F5EBE0/3A3A3A?text=Carregando..." alt="Foto profissional do Dr. Italo Rottoli" class="rounded-lg shadow-2xl object-cover w-full h-auto" loading="lazy" decoding="async">
                    </div>
                    <div class="lg:w-2/3 text-center lg:text-left reveal" style="transition-delay: 200ms;">
                        <h2 class="text-3xl md:text-4xl font-display mb-4">Dr. Italo Rottoli</h2>
                        <p class="text-lazuli-gold font-semibold mb-6">Especialista e Mestre em Harmonização Orofacial</p>
                        <p class="mb-4 text-lg leading-relaxed">Com uma trajetória dedicada à excelência, Dr. Italo Rottoli é apaixonado por transformar sorrisos e realçar a beleza natural de cada paciente. Sua filosofia de trabalho é pautada na união entre arte e precisão técnica, sempre com foco em resultados elegantes e duradouros.</p>
                        <p class="text-lg leading-relaxed">Acredita que o cuidado humanizado e a segurança são pilares fundamentais para construir uma relação de confiança, garantindo que cada tratamento seja uma experiência única, confortável e, acima de tudo, gratificante.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Seção Filosofia -->
        <section id="filosofia" class="section-bg-wrapper py-16 md:py-20 lg:py-24" style="--bg-color: #F0F8FF;">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-4xl font-display mb-12 reveal">Nossos Pilares</h2>
                <div class="grid md:grid-cols-3 gap-10 max-w-5xl mx-auto">
                    <div class="flex flex-col items-center reveal" style="transition-delay: 200ms;">
                        <div class="bg-white text-lazuli-gold p-5 rounded-full mb-4 shadow-md"><i class="fas fa-shield-alt fa-2x"></i></div>
                        <h3 class="text-2xl font-display mb-2">Segurança</h3>
                        <p>Protocolos rigorosos e produtos de ponta para sua total tranquilidade.</p>
                    </div>
                    <div class="flex flex-col items-center reveal" style="transition-delay: 400ms;">
                        <div class="bg-white text-lazuli-gold p-5 rounded-full mb-4 shadow-md"><i class="fas fa-leaf fa-2x"></i></div>
                        <h3 class="text-2xl font-display mb-2">Naturalidade</h3>
                        <p>Resultados que realçam sua beleza única, sem exageros e com elegância.</p>
                    </div>
                    <div class="flex flex-col items-center reveal" style="transition-delay: 600ms;">
                        <div class="bg-white text-lazuli-gold p-5 rounded-full mb-4 shadow-md"><i class="fas fa-microchip fa-2x"></i></div>
                        <h3 class="text-2xl font-display mb-2">Tecnologia</h3>
                        <p>Inovação a serviço da estética, com planejamento digital e técnicas avançadas.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Seção Tratamentos -->
        <section id="tratamentos" class="section-bg-wrapper py-16 md:py-20 lg:py-32" style="--bg-color: #ffffff;">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-4xl font-display mb-4 reveal">Tratamentos Exclusivos</h2>
                <p class="max-w-2xl mx-auto text-lg mb-12 md:mb-16 reveal" style="transition-delay: 200ms;">Soluções personalizadas para uma aparência rejuvenescida e um sorriso radiante.</p>
                <div class="grid md:grid-cols-2 gap-8 md:gap-10 max-w-5xl mx-auto">
                    <div class="bg-lazuli-light-blue/30 border border-gray-200 p-8 rounded-lg text-left reveal transition-all duration-300 hover:shadow-2xl hover:-translate-y-2" style="transition-delay: 400ms;">
                        <div class="flex items-center mb-4">
                            <div class="bg-lazuli-nude text-lazuli-gold p-4 rounded-full mr-4"><i class="fas fa-user-check fa-2x"></i></div>
                            <h3 class="text-2xl font-display">Harmonização Facial</h3>
                        </div>
                        <p class="mb-4">Procedimentos minimamente invasivos que equilibram os traços faciais, promovendo um rejuvenescimento sutil e natural.</p>
                        <ul class="space-y-2 text-lazuli-dark/80">
                            <li class="flex items-center"><i class="fas fa-check-circle text-lazuli-gold mr-2"></i>Gerenciamento do envelhecimento</li>
                            <li class="flex items-center"><i class="fas fa-check-circle text-lazuli-gold mr-2"></i>Tecnologias</li>
                            <li class="flex items-center"><i class="fas fa-check-circle text-lazuli-gold mr-2"></i>Microagulhamento</li>
                            <li class="flex items-center"><i class="fas fa-check-circle text-lazuli-gold mr-2"></i>Peeling</li>
                        </ul>
                    </div>
                    <div class="bg-lazuli-light-blue/30 border border-gray-200 p-8 rounded-lg text-left reveal transition-all duration-300 hover:shadow-2xl hover:-translate-y-2" style="transition-delay: 600ms;">
                        <div class="flex items-center mb-4">
                            <div class="bg-lazuli-nude text-lazuli-gold p-4 rounded-full mr-4"><i class="fas fa-gem fa-2x"></i></div>
                            <h3 class="text-2xl font-display">Lentes de Contato Dental</h3>
                        </div>
                        <p class="mb-4">Lâminas ultrafinas, aplicadas sobre os dentes para corrigir imperfeições de cor, formato e alinhamento.</p>
                        <ul class="space-y-2 text-lazuli-dark/80">
                            <li class="flex items-center"><i class="fas fa-check-circle text-lazuli-gold mr-2"></i>Em resina</li>
                            <li class="flex items-center"><i class="fas fa-check-circle text-lazuli-gold mr-2"></i>Em porcelana</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Seção Galeria -->
        <section id="galeria" class="section-bg-wrapper py-16 md:py-20 lg:py-32" style="--bg-color: #F0F8FF;">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-4xl font-display mb-4 reveal">Transformações Reais</h2>
                <p class="max-w-2xl mx-auto text-lg mb-12 reveal" style="transition-delay: 200ms;">Resultados que refletem nossa dedicação à ética e à naturalidade.</p>
                
                <div class="max-w-4xl mx-auto reveal" style="transition-delay: 400ms;">
                    <div class="swiper-container gallery-swiper">
                        <div class="swiper-wrapper">
                            <!-- Slides serão inseridos aqui pelo JavaScript -->
                        </div>
                        <!-- Setas de Navegação com classes específicas -->
                        <div class="swiper-button-next gallery-swiper-button-next"></div>
                        <div class="swiper-button-prev gallery-swiper-button-prev"></div>
                        <!-- Paginação (bolinhas) -->
                        <div class="swiper-pagination gallery-swiper-pagination"></div>
                    </div>
                </div>

                <p class="text-sm text-gray-500 mt-4 px-4">*Imagens de pacientes reais com autorização de uso. Os resultados podem variar.</p>
            </div>
        </section>
        
        <!-- Seção FAQ -->
        <section id="faq" class="section-bg-wrapper py-16 md:py-20 lg:py-32" style="--bg-color: #ffffff;">
            <div class="container mx-auto px-6 max-w-3xl">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-display mb-4 reveal">Dúvidas Frequentes</h2>
                    <p class="text-lg reveal" style="transition-delay: 200ms;">Respostas rápidas para as perguntas mais comuns.</p>
                </div>
                <div class="space-y-4 reveal" style="transition-delay: 400ms;">
                    
                    <div class="faq-item border-b border-gray-200 py-4">
                        <div class="faq-question flex justify-between items-center text-xl font-semibold">
                            <span>Harmonização facial deixa o rosto artificial?</span>
                            <i class="fas fa-chevron-down transition-transform duration-300"></i>
                        </div>
                        <div class="faq-answer text-lazuli-dark/80 pt-4">
                            <p>Pelo contrário. Nossa filosofia é <strong>realçar sua beleza com naturalidade</strong>. Usamos técnicas precisas para um resultado elegante e sutil, sem exageros.</p>
                        </div>
                    </div>

                    <div class="faq-item border-b border-gray-200 py-4">
                        <div class="faq-question flex justify-between items-center text-xl font-semibold">
                            <span>Lentes de contato dental exigem muito desgaste dos dentes?</span>
                            <i class="fas fa-chevron-down transition-transform duration-300"></i>
                        </div>
                        <div class="faq-answer text-lazuli-dark/80 pt-4">
                            <p>Não. Utilizamos uma técnica moderna e <strong>minimamente invasiva</strong>. Na maioria dos casos, o desgaste é mínimo ou até mesmo inexistente, preservando seus dentes naturais.</p>
                        </div>
                    </div>

                    <div class="faq-item border-b border-gray-200 py-4">
                        <div class="faq-question flex justify-between items-center text-xl font-semibold">
                            <span>Os procedimentos são seguros?</span>
                            <i class="fas fa-chevron-down transition-transform duration-300"></i>
                        </div>
                        <div class="faq-answer text-lazuli-dark/80 pt-4">
                            <p>Totalmente. A segurança é nossa prioridade. Usamos apenas produtos aprovados pela ANVISA e seguimos <strong>protocolos de segurança rigorosos</strong> para garantir sua total tranquilidade.</p>
                        </div>
                    </div>

                     <div class="faq-item border-b border-gray-200 py-4">
                        <div class="faq-question flex justify-between items-center text-xl font-semibold">
                            <span>Qual a durabilidade dos resultados?</span>
                             <i class="fas fa-chevron-down transition-transform duration-300"></i>
                        </div>
                        <div class="faq-answer text-lazuli-dark/80 pt-4">
                            <p>Varia por tratamento. O efeito do Botox® dura de 4 a 6 meses, enquanto preenchimentos podem durar mais de um ano. As lentes de contato, com os devidos cuidados, <strong>duram mais de 15 anos</strong>.</p>
                        </div>
                    </div>

                    <div class="faq-item border-b border-gray-200 py-4">
                        <div class="faq-question flex justify-between items-center text-xl font-semibold">
                            <span>Como sei qual o melhor tratamento para mim?</span>
                            <i class="fas fa-chevron-down transition-transform duration-300"></i>
                        </div>
                        <div class="faq-answer text-lazuli-dark/80 pt-4">
                           <p>A <strong>avaliação personalizada</strong> é o primeiro passo. Nela, vamos entender seus desejos, analisar suas características e criar um plano de tratamento exclusivo para você.</p>
                        </div>
                    </div>

                    <div class="text-center pt-10">
                        <a href="https://wa.me/555499041660?text=Ol%C3%A1!%20Gostaria%20de%20agendar%20um%20hor%C3%A1rio." target="_blank" class="bg-lazuli-gold text-white px-8 py-3 rounded-full hover:bg-lazuli-gold-dark transition-all duration-300 transform hover:scale-105 inline-block active:scale-95">
                            Agendar uma Avaliação
                        </a>
                    </div>

                </div>
            </div>
        </section>

        <!-- Seção Depoimentos -->
        <section id="depoimentos" class="section-bg-wrapper py-16 md:py-20 lg:py-32" style="--bg-color: #F5EBE0;">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-4xl font-display mb-12 reveal">Confiança que Inspira</h2>
                
                <!-- Container do Carrossel -->
                <div id="testimonial-slider" class="relative slider-container max-w-6xl mx-auto reveal cursor-grab active:cursor-grabbing" style="transition-delay: 200ms;">
                    <div class="overflow-hidden">
                        <div class="slider-track flex -mx-2"> <!-- Margem negativa para compensar padding dos itens -->
                           <!-- Os cards do carrossel serão inseridos aqui -->
                        </div>
                    </div>
                    <button class="slider-button prev absolute top-1/2 -translate-y-1/2 -left-4 bg-white/90 hover:bg-white shadow-lg rounded-full w-12 h-12 items-center justify-center transition z-10 hidden" aria-label="Depoimento anterior"><i class="fas fa-chevron-left"></i></button>
                    <button class="slider-button next absolute top-1/2 -translate-y-1/2 -right-4 bg-white/90 hover:bg-white shadow-lg rounded-full w-12 h-12 items-center justify-center transition z-10 hidden" aria-label="Próximo depoimento"><i class="fas fa-chevron-right"></i></button>
                </div>

                <div class="mt-12 reveal">
                     <a href="https://www.google.com/maps/place/Cl%C3%ADnica+Laz%C3%BAli+-+Medicina+e+Odontologia+Est%C3%A9tica/@-29.9239435,-51.1797007,17z/data=!4m8!3m7!1s0x951979270c715a7b:0x27a1151fc0641ef!8m2!3d-29.9239482!4d-51.1771258!9m1!1b1!16s%2Fg%2F11tbz8p_78?hl=pt-BR&entry=ttu" target="_blank" class="bg-transparent border-2 border-lazuli-gold text-lazuli-gold px-8 py-3 rounded-full hover:bg-lazuli-gold hover:text-white transition-all duration-300 inline-block active:scale-95">
                         Ver mais avaliações no Google
                    </a>
                </div>
            </div>
        </section>

        <!-- Seção Agendamento -->
        <section id="agendamento" class="section-bg-wrapper py-16 md:py-20 lg:py-32 text-center" style="--bg-color: #ffffff;">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl md:text-4xl font-display mb-4 text-lazuli-dark reveal">Sua transformação começa agora.</h2>
                <p class="max-w-2xl mx-auto text-lg mb-12 reveal" style="transition-delay: 200ms;">Entre em contato e dê o primeiro passo para revelar a sua melhor versão.</p>
                <div class="flex flex-col md:flex-row justify-center items-center gap-6 reveal" style="transition-delay: 400ms;">
                    <a href="https://wa.me/555499041660?text=Ol%C3%A1!%20Gostaria%20de%20agendar%20um%20hor%C3%A1rio." target="_blank" class="w-full md:w-auto bg-green-500 text-white px-8 py-4 rounded-full text-lg font-semibold hover:bg-green-600 transition-all duration-300 flex items-center justify-center gap-3 transform hover:scale-105 active:scale-95">
                        <i class="fab fa-whatsapp fa-lg"></i> Agendar pelo WhatsApp
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Rodapé -->
    <footer class="bg-lazuli-dark text-white pt-16 pb-8">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-10 mb-10 text-gray-300 text-center md:text-left">
                <div class="lg:col-span-1">
                     <a href="#home" class="text-3xl font-display font-bold text-white mb-4 inline-block">
                         Clínica <span class="text-lazuli-gold">Lazúli</span>
                    </a>
                     <p class="text-gray-400">Ciência e arte para realçar a sua beleza com naturalidade e segurança em Canoas.</p>
                      <div class="flex justify-center md:justify-start space-x-4 mt-6">
                        <a href="https://www.instagram.com/lazuli.clinica?igsh=MTF1cDd1cWU0NHRiNw==" target="_blank" class="text-xl hover:text-lazuli-gold transition-colors" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://wa.me/555499041660?text=Ol%C3%A1!%20Gostaria%20de%20agendar%20um%20hor%C3%A1rio." target="_blank" class="text-xl hover:text-lazuli-gold transition-colors" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>

                <div class="lg:col-span-2 grid md:grid-cols-2 gap-10">
                    <div>
                        <h4 class="font-semibold text-white text-lg mb-4">Entre em Contato</h4>
                        <p class="mb-2"><strong>Endereço:</strong><br>Avenida Getúlio Vargas, 4831<br>Consultório 402, Torre Medical<br>Centro, Canoas - RS, CEP 92020-333</p>
                        <p class="mb-2"><strong>Email:</strong><br><a href="mailto:italobondan@outlook.com" class="hover:text-lazuli-gold">contato@clinicalazuli.com.br</a></p>
                        <p><strong>Telefone:</strong><br><a href="tel:+555499041660" class="hover:text-lazuli-gold">(54) 9904-1660</a></p>
                    </div>

                    <div>
                        <h4 class="font-semibold text-white text-lg mb-4">Nossa Localização</h4>
                        <div class="overflow-hidden rounded-lg shadow-lg border border-gray-700">
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3457.9290908950356!2d-51.17970072370734!3d-29.923943525700388!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x951979270c715a7b%3A0x27a1151fc0641ef!2sCl%C3%ADnica%20Laz%C3%BAli%20-%20Medicina%20e%20Odontologia%20Est%C3%A9tica!5e0!3m2!1spt-BR!2sbr!4v1754236089274!5m2!1spt-BR!2sbr" 
                                class="w-full h-48 border-0" 
                                allowfullscreen="" 
                                loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade"
                                title="Mapa da localização da Clínica Lazúli em Canoas">
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center border-t border-gray-700 pt-8 mt-8">
                <div class="text-sm text-gray-400">
                    <p>© <span id="current-year"></span> Clínica Lazúli. Todos os direitos reservados.</p>
                    <p class="mt-1">CNPJ: 00.000.000/0001-00 | Responsável Técnico: Dr. Italo Rottoli (CRO/RS 00000)</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Botão Flutuante do WhatsApp -->
    <a href="https://wa.me/555499041660?text=Ol%C3%A1!%20Gostaria%20de%20agendar%20um%20hor%C3%A1rio." target="_blank" class="fixed bottom-5 right-5 bg-green-500 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg z-40 transform hover:scale-110 transition-transform active:scale-95" aria-label="Fale conosco no WhatsApp">
        <i class="fab fa-whatsapp fa-2x"></i>
    </a>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    
    <!-- Firebase Init -->
    <script src="/__/firebase/init.js"></script>

    <!-- Swiper.js SCRIPT -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

    <!-- Código Personalizado -->
    <script>
        const db = firebase.firestore();

        document.addEventListener('DOMContentLoaded', () => {
            // --- LÓGICA DO MENU MOBILE APRIMORADO (CÓDIGO ORIGINAL RESTAURADO) ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
            const mobileNavLinks = mobileMenu.querySelectorAll('.mobile-nav-link');
            const menuIcon = mobileMenuButton.querySelector('i');

            function toggleMenu() {
                const isMenuOpen = mobileMenu.classList.contains('menu-open');
                
                if (isMenuOpen) {
                    mobileMenu.classList.remove('menu-open');
                    mobileMenuOverlay.classList.add('opacity-0', 'pointer-events-none');
                    document.body.classList.remove('overflow-hidden');
                    menuIcon.classList.remove('fa-times');
                    menuIcon.classList.add('fa-bars');
                } else {
                    mobileMenu.classList.add('menu-open');
                    mobileMenuOverlay.classList.remove('opacity-0', 'pointer-events-none');
                    document.body.classList.add('overflow-hidden');
                    menuIcon.classList.remove('fa-bars');
                    menuIcon.classList.add('fa-times');
                }
            }

            mobileMenuButton.addEventListener('click', toggleMenu);
            mobileMenuOverlay.addEventListener('click', toggleMenu);
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', toggleMenu);
            });

            // --- LÓGICA PARA HEADER DINÂMICO (CÓDIGO ORIGINAL RESTAURADO) ---
            const header = document.getElementById('main-header');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.classList.add('header-scrolled');
                } else {
                    header.classList.remove('header-scrolled');
                }
            });

            // --- LÓGICA DO SLIDER DE DEPOIMENTOS (CÓDIGO ORIGINAL RESTAURADO) ---
            function initializeSlider(containerId, options = {}) {
                const { multiItem = false, dragDisabledOnDesktop = false } = options;

                const container = document.getElementById(containerId);
                if (!container) return;
                const track = container.querySelector('.slider-track');
                const prevButton = container.querySelector('.slider-button.prev');
                const nextButton = container.querySelector('.slider-button.next');
                
                let items = track.children;
                if (!track || items.length === 0) return;

                let currentIndex = 0;

                const getItemsPerPage = () => {
                    if (!multiItem) return 1;
                    if (window.innerWidth >= 1024) return 3;
                    if (window.innerWidth >= 768) return 2;
                    return 1;
                };

                const updateSlider = (smooth = true) => {
                    if (smooth) {
                        track.style.transition = 'transform 0.5s ease-out';
                    } else {
                        track.style.transition = 'none';
                    }

                    const itemsPerPage = getItemsPerPage();
                    const totalItems = items.length;
                    const maxIndex = Math.max(0, totalItems - itemsPerPage);
                    
                    currentIndex = Math.max(0, Math.min(currentIndex, maxIndex));

                    const itemWidth = track.clientWidth / itemsPerPage;
                    const newTranslate = -currentIndex * itemWidth;
                    track.style.transform = `translateX(${newTranslate}px)`;
                    
                    if (prevButton && nextButton) {
                        prevButton.style.display = currentIndex === 0 ? 'none' : 'flex';
                        nextButton.style.display = currentIndex >= maxIndex ? 'none' : 'flex';
                    }
                };

                const slide = (direction) => {
                    currentIndex += direction;
                    updateSlider();
                };

                if (nextButton) nextButton.addEventListener('click', () => slide(1));
                if (prevButton) prevButton.addEventListener('click', () => slide(-1));
                
                const resizeObserver = new ResizeObserver(() => updateSlider(false));
                resizeObserver.observe(container);

                const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
                const enableDrag = !isTouchDevice && !dragDisabledOnDesktop;
                const enableSwipe = isTouchDevice;

                if (enableDrag || enableSwipe) {
                    let isDragging = false, startPos = 0, currentTranslate = 0, prevTranslate = 0;
                    const getPositionX = (event) => event.type.includes('mouse') ? event.pageX : event.touches[0].clientX;
                    const dragStart = (event) => {
                        if (event.type === 'mousedown') event.preventDefault();
                        isDragging = true;
                        startPos = getPositionX(event);
                        const transformMatrix = new WebKitCSSMatrix(window.getComputedStyle(track).transform);
                        prevTranslate = transformMatrix.m41;
                        track.style.transition = 'none';
                        container.classList.add('is-dragging');
                        if (enableDrag) { window.addEventListener('mousemove', dragMove); window.addEventListener('mouseup', dragEnd); }
                        if (enableSwipe) { window.addEventListener('touchmove', dragMove, { passive: true }); window.addEventListener('touchend', dragEnd); }
                    };
                    const dragMove = (event) => {
                        if (isDragging) {
                            const currentPosition = getPositionX(event);
                            currentTranslate = prevTranslate + currentPosition - startPos;
                            track.style.transform = `translateX(${currentTranslate}px)`;
                        }
                    };
                    const dragEnd = () => {
                        if (!isDragging) return;
                        isDragging = false;
                        container.classList.remove('is-dragging');
                        if (enableDrag) { window.removeEventListener('mousemove', dragMove); window.removeEventListener('mouseup', dragEnd); }
                        if (enableSwipe) { window.removeEventListener('touchmove', dragMove); window.removeEventListener('touchend', dragEnd); }
                        const movedBy = currentTranslate - prevTranslate;
                        const itemWidth = track.clientWidth / getItemsPerPage();
                        const threshold = itemWidth / 4;
                        if (movedBy < -threshold) { currentIndex++; } else if (movedBy > threshold) { currentIndex--; }
                        updateSlider();
                    };
                    if (enableDrag) { container.addEventListener('mousedown', dragStart); }
                    if (enableSwipe) { container.addEventListener('touchstart', dragStart, { passive: true }); }
                }
                const observer = new MutationObserver(() => {
                    items = track.children;
                    if (items.length > 0) {
                        updateSlider(false);
                        observer.disconnect();
                    }
                });
                observer.observe(track, { childList: true });
            }


            // --- LÓGICA PARA FAQ (ACCORDION) (CÓDIGO ORIGINAL RESTAURADO) ---
            const faqItems = document.querySelectorAll('.faq-item');
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                const answer = item.querySelector('.faq-answer');
                const icon = question.querySelector('i');
                question.addEventListener('click', () => {
                    const isOpened = answer.style.maxHeight && answer.style.maxHeight !== '0px';
                    faqItems.forEach(otherItem => {
                        if (otherItem !== item) {
                            otherItem.querySelector('.faq-answer').style.maxHeight = '0px';
                            otherItem.querySelector('.faq-question i').classList.remove('rotate-180');
                        }
                    });
                    if (isOpened) {
                        answer.style.maxHeight = '0px';
                        icon.classList.remove('rotate-180');
                    } else {
                        answer.style.maxHeight = answer.scrollHeight + 'px';
                        icon.classList.add('rotate-180');
                    }
                });
            });

            // --- ANIMAÇÃO DE SCROLL (CÓDIGO ORIGINAL RESTAURADO) ---
            const revealObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target); 
                    }
                });
            }, { root: null, threshold: 0.1, rootMargin: '0px 0px -50px 0px' });
            document.querySelectorAll('.reveal').forEach(el => {
                revealObserver.observe(el);
            });
            
            // --- ATUALIZA O ANO DO RODAPÉ (CÓDIGO ORIGINAL RESTAURADO) ---
            const yearSpan = document.getElementById('current-year');
            if(yearSpan) {
                yearSpan.textContent = new Date().getFullYear();
            }

            // --- DEPOIMENTOS PADRÃO (CÓDIGO ORIGINAL RESTAURADO) ---
            const defaultTestimonials = [
                { name: "Jady Muller J.", text: "Clínica maravilhosa! Ambiente perfeito, material de uma qualidade excelente, sem contar os profissionais 100% atenciosos e delicados, meu procedimento ficou maravilhoso, sem dúvidas virei cliente fiel!", rating: 5 },
                { name: "Luís de Melo", text: "Iniciei minha avaliação estética com Dr Édson Depieri, pois precisava melhorar minha autoimagem, não para embelezamento e vaidade, mas para o aumento da autoestima, bem estar e melhoria da apresentação profissional.", rating: 5 },
                { name: "Juliane Lobato", text: "Dr Edson e dr Italo os melhores que poderiam existir!!! Sempre impecáveis e acolhedores.", rating: 5 },
                { name: "Bianca Depieri", text: "Um consultório de extrema elegância e profissionalismo. Dois profissionais de qualidade que senti estarem prontamente à postos para me ouvir e realizarem exatamente o que eu imaginava.", rating: 5 },
                { name: "Vitória Rottoli", text: "Sem palavras pra agradecer essa clínica. Mudaram minha forma de me ver. Só gratidão a esses dois profissionais que tão bem me fizeram. Obrigada ao Dr Édson e ao Dr Ítalo ❤️", rating: 5 },
                { name: "Suzy Tavares", text: "A experiência foi do princípio ao fim extraordinária! Se nota quando o profissional entende e ama o que faz.", rating: 5 },
                { name: "Elisandra Machado", text: "Dr Ítalo Rottoli transformou minha autoestima, me fez uma nova mulher, sou grata por tanto! Minha indicação de olhos fechados.", rating: 5 }
            ];

            // --- CARREGAMENTO DE CONTEÚDO DINÂMICO DO FIREBASE ---
            async function loadDynamicContent() {
                try {
                    // Carregar foto da seção "Sobre"
                    const aboutDocRef = db.collection("siteContent").doc("sobre");
                    const aboutDocSnap = await aboutDocRef.get();
                    if (aboutDocSnap.exists && aboutDocSnap.data().imageUrl) {
                        document.getElementById('about-dr-photo').src = aboutDocSnap.data().imageUrl;
                    } else {
                         document.getElementById('about-dr-photo').src = 'https://placehold.co/600x800/F5EBE0/3A3A3A?text=Dr.+Italo';
                    }

                    // Carregar galeria
                    const galleryWrapper = document.querySelector('#galeria .swiper-wrapper');
                    const gallerySnapshot = await db.collection("gallery").get();
                    galleryWrapper.innerHTML = ''; 
                    if (gallerySnapshot.empty) {
                        galleryWrapper.innerHTML = `<div class="swiper-slide"><img src="https://placehold.co/1024x683/F5EBE0/3A3A3A?text=Em+Breve" alt="Galeria em breve" loading="lazy" decoding="async"></div>`;
                    } else {
                        gallerySnapshot.forEach(doc => {
                            galleryWrapper.innerHTML += `
                                <div class="swiper-slide">
                                    <img src="${doc.data().url}" alt="Resultado de tratamento" loading="lazy" decoding="async">
                                </div>`;
                        });
                    }
                    
                    // INICIALIZA O SWIPER DA GALERIA APENAS DEPOIS QUE O CONTEÚDO FOI CARREGADO
                    new Swiper('.gallery-swiper', {
                        loop: true,
                        watchOverflow: true,
                        navigation: {
                            nextEl: '.gallery-swiper-button-next',
                            prevEl: '.gallery-swiper-button-prev',
                        },
                        pagination: {
                            el: '.gallery-swiper-pagination',
                            clickable: true,
                        },
                        slidesPerView: 1,
                        spaceBetween: 0,
                        grabCursor: true,
                    });

                    // Carregar depoimentos
                    const testimonialTrack = document.querySelector('#testimonial-slider .slider-track');
                    const testimonialsSnapshot = await db.collection("testimonials").get();
                    
                    testimonialTrack.innerHTML = '';

                    const testimonialsToRender = testimonialsSnapshot.empty ? defaultTestimonials : testimonialsSnapshot.docs.map(doc => doc.data());

                    const bgColors = ['bg-blue-400', 'bg-green-400', 'bg-indigo-400', 'bg-pink-400', 'bg-yellow-500', 'bg-teal-400', 'bg-purple-400'];

                    function createTestimonialCard(data, index) {
                        const initial = data.name.charAt(0).toUpperCase();
                        const colorClass = bgColors[index % bgColors.length];
                        
                        return `
                            <div class="bg-white p-8 rounded-lg shadow-md flex flex-col text-left h-full">
                                <div class="flex-grow">
                                    <div class="w-16 h-16 ${colorClass} rounded-full flex items-center justify-center text-white text-3xl font-display mb-6">
                                        ${initial}
                                    </div>
                                    <p class="italic text-lazuli-dark/80 whitespace-normal mb-4">"${data.text}"</p>
                                </div>
                                <p class="font-bold text-lazuli-dark mt-4">- ${data.name}</p>
                            </div>
                        `;
                    }

                    if (testimonialsToRender.length === 0) {
                        const emptyCardHTML = createTestimonialCard({name: "Equipe Lazúli", text: "Seja o primeiro a deixar um depoimento!"}, 0);
                        testimonialTrack.innerHTML = `<div class="slider-item w-full flex-shrink-0 p-2">${emptyCardHTML}</div>`;

                    } else {
                        testimonialsToRender.forEach((data, index) => {
                            const cardHTML = createTestimonialCard(data, index);
                            testimonialTrack.innerHTML += `<div class="slider-item w-full md:w-1/2 lg:w-1/3 flex-shrink-0 p-2">${cardHTML}</div>`;
                        });
                    }
                    
                    initializeSlider('testimonial-slider', { multiItem: true });

                    // [LÓGICA ADICIONADA]
                    // Carregar e aplicar fundos das seções
                    const backgroundsDocSnap = await db.collection("siteContent").doc("backgrounds").get();
                    if (backgroundsDocSnap.exists) {
                        const backgroundsData = backgroundsDocSnap.data();
                        for (const sectionId in backgroundsData) {
                            const imageUrl = backgroundsData[sectionId];
                            if (imageUrl && imageUrl.trim() !== '') {
                                const sectionElement = document.getElementById(sectionId);
                                if (sectionElement) {
                                    sectionElement.style.setProperty('--bg-image', `url('${imageUrl}')`);
                                    sectionElement.classList.add('has-bg');
                                }
                            }
                        }
                    }

                } catch (error) {
                    console.error("Erro ao carregar conteúdo do Firebase: ", error);
                    // Fallback para o slider de depoimentos em caso de erro
                    initializeSlider('testimonial-slider', { multiItem: true });
                }
            }

            loadDynamicContent();
        });
    </script>
</body>
</html>
